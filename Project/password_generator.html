<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Password Generator</title>
<link rel="stylesheet" href="generator.css">
</head>
<body>
<div class="container">
<h1>Password Generator</h1>

<label>
    <input type="radio" name="choice" value="generate" checked> Generate Password
</label>
<label>
    <input type="radio" name="choice" value="own"> Use My Own Password
</label>

<div id="generateSection">
    <input type="number" id="length" placeholder="Length (8-20)">
    <button id="generateBtn">Generate</button>
    <p id="generated">Generated password will appear here</p>
</div>

<div id="ownSection" style="display:none;">
    <input type="text" id="ownPassword" placeholder="Enter your password">
</div>

<button id="submitBtn">Submit for Analysis</button>
<a href="index.html"><button>Back to Home</button></a>
</div>

<script>
const generateSection = document.getElementById("generateSection");
const ownSection = document.getElementById("ownSection");
const generatedP = document.getElementById("generated");

// Toggle sections
document.querySelectorAll('input[name="choice"]').forEach(radio=>{
    radio.addEventListener("change", function(){
        if(this.value==="generate"){generateSection.style.display="block"; ownSection.style.display="none";}
        else{generateSection.style.display="none"; ownSection.style.display="block";}
    });
});

// Generate password
document.getElementById("generateBtn").addEventListener("click",function(){
    let length = document.getElementById("length").value || 12;
    let chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()";
    let password = "";
    for(let i=0;i<length;i++){password += chars.charAt(Math.floor(Math.random()*chars.length));}
    generatedP.innerText = password;
});

// Submit to analyzer
document.getElementById("submitBtn").addEventListener("click",function(){
    let password;
    const choice = document.querySelector('input[name="choice"]:checked').value;
    password = (choice==="generate") ? generatedP.innerText : document.getElementById("ownPassword").value;
    if(!password){alert("Please generate or enter a password first!"); return;}
    window.location.href = "password_strength.html?pwd=" + encodeURIComponent(password);
});
</script>
</body>
</html>
